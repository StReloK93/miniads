import{_ as g}from"./BaseButton.vue_vue_type_script_setup_true_lang-BSbPwuoc.js";import{d as b,e as v,c as x,B as e,K as d,G as a,O as n,a as l,w as _,a4 as h,F as y,h as z,U as w}from"./index-BYjx1Fp_.js";import{f as B,t as k}from"./Helpers-5Npp2uYL.js";import{F as c}from"./FavoriteRepo-Bl0hA3Mm.js";import{H as C}from"./heart-DrxJ4hzU.js";const F={class:"bg-(--z-card) p-1.5 rounded-(--z-rounded) select-none border border-(--z-border)"},$={class:"mb-2.5 relative"},E=["src"],N={class:"font-semibold"},V={class:"px-1.5"},q={class:"font-medium line-clamp-1"},H={class:"text-xs my-1"},I={class:"text-(--z-muted-text) inline-flex items-center gap-1"},G=b({__name:"BaseProductCard",props:{product:{}},setup(t){const o=t,r=z(!1);async function u(){r.value=!0,o.product.is_favorite?await c.delete(o.product.id).finally(()=>{r.value=!1}):await c.store(o.product.id).finally(()=>{r.value=!1}),o.product.is_favorite=!o.product.is_favorite}const p=w(()=>o.product.images&&o.product.images.length>0?`/storage/${o.product.images[0].src}`:"/images/no-image.png"),m=i=>{i.target.src="/images/no-image.webp"};return(i,s)=>{const f=g;return v(),x("main",{onClick:s[0]||(s[0]=O=>i.$router.push({name:"product-id",params:{id:t.product.id}}))},[e("section",F,[e("div",$,[e("img",{src:p.value,onError:m,class:"rounded-xl w-full object-cover aspect-4/2"},null,40,E),e("div",{class:d(["absolute top-3.5 left-2 text-sm inline-flex items-center gap-1 px-2 py-0.5 z-bg-gradient backdrop-blur-sm border rounded-full border-(--z-border)",{"flex-row-reverse":t.product.price_type.position==="left"}])},[e("span",N,a(n(B)(t.product?.price)),1),e("span",null,a(t.product.price_type.type),1)],2),l(f,{onClick:h(u,["stop"]),class:"absolute top-2 right-2 border border-(--z-border)",icon:"pi pi-heart",iconOnly:"",rounded:"",loading:r.value,severity:"glass"},{icon:_(()=>[l(n(C),{class:d(["size-4",{"stroke-red-500 fill-red-500":t.product.is_favorite}])},null,8,["class"])]),_:1},8,["loading"])]),e("main",V,[e("h3",q,a(t.product.title),1),e("aside",H,[e("span",I,[s[1]||(s[1]=y(" Uchquduq ",-1)),s[2]||(s[2]=e("span",{class:"inline-flex w-1 h-1 rounded-full bg-(--z-muted-text)"},null,-1)),e("span",null,a(n(k)(t.product.created_at)),1)])])])])])}}});export{G as _};
