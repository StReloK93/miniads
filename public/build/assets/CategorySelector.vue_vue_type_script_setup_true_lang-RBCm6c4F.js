import{d as R,h,y as S,c,B as u,M as f,R as g,a as m,w as V,T as E,e as i,U as L,O as _,G as y,f as P,E as T}from"./index-DvgdEg0x.js";import{c as $}from"./createLucideIcon-BryRo1Wc.js";const C=$("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),j={class:"overflow-hidden grid grid-rows-[auto_1fr] h-full"},q={class:"py-2 text-sm flex flex-wrap items-center gap-1"},D={class:"font-semibold"},F=["onClick"],G={class:"overflow-hidden relative"},M=["onClick"],O={class:"text-(--z-primary)"},H=R({__name:"CategorySelector",props:{categories:{},activeCategoryId:{}},emits:["selectCategory"],setup(k,{emit:w}){const l=k,b=w,a=h([l.categories]),o=h([]),d=h("slide-in"),B=L(()=>a.value[a.value.length-1]);function v(e,n,t=[]){for(const s of e){const r=[...t,s];if(s.id===n)return r;if(s.children?.length){const p=v(s.children,n,r);if(p)return p}}return null}function x(e){const n=v(l.categories,e);if(!n)return;d.value="slide-in",o.value=n.slice(0,-1);const t=[l.categories];for(const r of o.value)r.children?.length&&t.push(r.children);const s=n[n.length-1];!s.is_page&&s.children?.length&&(o.value.push(s),t.push(s.children)),a.value=t}function z(e){if(e.is_page){b("selectCategory",e);return}e.children?.length&&(d.value="slide-in",o.value.push(e),a.value.push(e.children))}function N(e){d.value="slide-out",e===void 0?a.value.length>1&&(a.value.pop(),o.value.pop()):(o.value=o.value.slice(0,e+1),a.value=a.value.slice(0,e+2))}function I(){d.value="slide-out",o.value=[],a.value=[l.categories]}return S(()=>[l.activeCategoryId,l.categories],([e,n])=>{e&&(!n||n.length===0||x(e))},{immediate:!0}),(e,n)=>(i(),c("div",j,[u("div",q,[u("span",{class:"font-semibold",onClick:I}," Barchasi "),(i(!0),c(f,null,g(o.value,(t,s)=>(i(),c(f,{key:t.id},[u("span",D,[m(_(C),{class:"size-3 font-semibold"})]),u("span",{class:"font-semibold",onClick:r=>N(s)},y(t.name),9,F)],64))),128))]),u("div",G,[m(E,{name:d.value,mode:"out-in"},{default:V(()=>[(i(),c("ul",{key:a.value.length,class:"divide-y divide-(--z-border)"},[(i(!0),c(f,null,g(B.value,t=>(i(),c("li",{key:t.id,onClick:s=>z(t),class:"flex items-center justify-between py-2 active:bg-(--z-card) rounded-md"},[u("span",O,y(t.name),1),t.is_page?T("",!0):(i(),P(_(C),{key:0,class:"size-4"}))],8,M))),128))]))]),_:1},8,["name"])])]))}});export{H as _};
