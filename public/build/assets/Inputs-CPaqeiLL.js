import{_ as jt}from"./FieldImage.vue_vue_type_script_setup_true_lang-bmQBB8BT.js";import{_ as Ht}from"./FieldText.vue_vue_type_script_setup_true_lang-CWs660Lk.js";import{a as me}from"./vee-validate-C-gjtj0m.js";import{d as U,f as X,w as H,O as C,e as F,B as M,A as gt,h as L,U as A,z as zt,s as We,a9 as De,o as Se,aa as Wt,a1 as Me,M as Ue,a3 as bt,ab as Ut,y as le,ac as _,n as ee,ad as oe,a6 as Kt,ae as Xt,af as Yt,a as we,G as Ae,E as Ne,K as Be,T as qt,J as Gt,X as Zt,S as Qt,c as Ve,R as Jt,ag as en}from"./index-DpVxAIMH.js";import{c as tn}from"./createLucideIcon-DSGK5MAY.js";import{C as nn}from"./chevron-down-DCCRFQHN.js";const Je=tn("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),on=["value","onInput","onKeydown","placeholder","inputmode","disabled"],ln=U({__name:"FieldMask",props:{name:{},mask:{},disabled:{type:Boolean},placeholder:{},inputmode:{}},setup(e){const t=e,n={9:/\d/,0:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};function l(a=""){return a.replace(/[^a-zA-Z0-9]/g,"")}function i(a=""){const u=a.split("");let s="",f=0;for(const c of t.mask)if(n[c]){const d=u[f];if(!d)break;if(n[c].test(d))s+=c==="A"?d.toUpperCase():d,f++;else{f++;continue}}else s+=c;return s}function r(a,u){const s=a.target,f=l(s.value);u(f),s.value=i(f)}function o(a,u,s){if(a.key!=="Backspace")return;a.preventDefault();const c=l(u||"").slice(0,-1);s(c);const d=a.target;d.value=i(c)}return(a,u)=>(F(),X(C(me),{name:e.name},{default:H(({value:s,setValue:f})=>[M("input",{type:"text",class:"field",value:i(s),onInput:c=>r(c,f),onKeydown:c=>o(c,s,f),placeholder:e.placeholder,inputmode:e.inputmode,disabled:e.disabled},null,40,on)]),_:1},8,["name"]))}}),rn=["value","onInput","placeholder","disabled"],an=U({__name:"FieldNumber",props:{name:{},placeholder:{},disabled:{type:Boolean},min:{},max:{}},setup(e){const t=e,n=t.min??0;function l(o){return o==null?"":o.toLocaleString("ru-RU")}function i(o){return Number(o.replace(/\s/g,""))}function r(o,a,u){const s=o.target,f=s.value,c=i(f);if(f.trim()===""||isNaN(c)){u(n),s.value=l(n);return}if(c<n){u(n),s.value=l(n);return}if(t.max!==void 0&&c>t.max){s.value=l(a??n);return}u(c),s.value=l(c)}return(o,a)=>(F(),X(C(me),{name:e.name},{default:H(({value:u,setValue:s})=>[M("input",{type:"text",class:"field",value:l(u),onInput:f=>r(f,u,s),placeholder:e.placeholder,disabled:e.disabled},null,40,rn)]),_:1},8,["name"]))}}),sn=["data-size"],un=["rows","onInput"],cn=U({__name:"FieldTextarea",props:{name:{},size:{default:"md"},autoHeight:{type:Boolean,default:!0},maxHeight:{},rows:{default:2}},setup(e){const t=e,n=L(null);function l(){!t.autoHeight||!n.value||(n.value.style.height="auto",n.value.style.height=n.value.scrollHeight+"px")}function i(r,o){o?.(r),l()}return(r,o)=>(F(),X(C(me),{name:t.name},{default:H(({field:a,handleChange:u})=>[M("div",{class:"field","data-size":e.size},[M("textarea",gt({ref_key:"el",ref:n},{...a,...r.$attrs},{rows:e.rows,style:{maxHeight:e.maxHeight?e.maxHeight+"px":void 0},class:"ui-textarea__field w-full resize-none transition focus:outline-none",onInput:s=>i(s,u)}),null,16,un)],8,sn)]),_:1},8,["name"]))}});function fn(e,t,n){let l=L(n?.value),i=A(()=>e.value!==void 0);return[A(()=>i.value?e.value:l.value),function(r){return i.value||(l.value=r),t?.(r)}]}var et;let dn=Symbol("headlessui.useid"),pn=0;const Ke=(et=zt)!=null?et:function(){return We(dn,()=>`${++pn}`)()};function E(e){var t;if(e==null||e.value==null)return null;let n=(t=e.value.$el)!=null?t:e.value;return n instanceof Node?n:null}function B(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let l=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(l,B),l}var vn=Object.defineProperty,mn=(e,t,n)=>t in e?vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tt=(e,t,n)=>(mn(e,typeof t!="symbol"?t+"":t,n),n);let hn=class{constructor(){tt(this,"current",this.detect()),tt(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Xe=new hn;function gn(e){if(Xe.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=E(e);if(t)return t.ownerDocument}return document}let nt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var bn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(bn||{}),yn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(yn||{}),wn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(wn||{}),Ye=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ye||{});function yt(e,t=0){var n;return e===((n=gn(e))==null?void 0:n.body)?!1:B(t,{0(){return e.matches(nt)},1(){let l=e;for(;l!==null;){if(l.matches(nt))return!0;l=l.parentElement}return!1}})}var xn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(xn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function On(e,t=n=>n){return e.slice().sort((n,l)=>{let i=t(n),r=t(l);if(i===null||r===null)return 0;let o=i.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Sn(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function An(){return/Android/gi.test(window.navigator.userAgent)}function Ln(){return Sn()||An()}function xe(e,t,n){Xe.isServer||De(l=>{document.addEventListener(e,t,n),l(()=>document.removeEventListener(e,t,n))})}function Rn(e,t,n){Xe.isServer||De(l=>{window.addEventListener(e,t,n),l(()=>window.removeEventListener(e,t,n))})}function En(e,t,n=A(()=>!0)){function l(r,o){if(!n.value||r.defaultPrevented)return;let a=o(r);if(a===null||!a.getRootNode().contains(a))return;let u=(function s(f){return typeof f=="function"?s(f()):Array.isArray(f)||f instanceof Set?f:[f]})(e);for(let s of u){if(s===null)continue;let f=s instanceof HTMLElement?s:E(s);if(f!=null&&f.contains(a)||r.composed&&r.composedPath().includes(f))return}return!yt(a,Ye.Loose)&&a.tabIndex!==-1&&r.preventDefault(),t(r,a)}let i=L(null);xe("pointerdown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),xe("mousedown",r=>{var o,a;n.value&&(i.value=((a=(o=r.composedPath)==null?void 0:o.call(r))==null?void 0:a[0])||r.target)},!0),xe("click",r=>{Ln()||i.value&&(l(r,()=>i.value),i.value=null)},!0),xe("touchend",r=>l(r,()=>r.target instanceof HTMLElement?r.target:null),!0),Rn("blur",r=>l(r,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function ot(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Dn(e,t){let n=L(ot(e.value.type,e.value.as));return Se(()=>{n.value=ot(e.value.type,e.value.as)}),De(()=>{var l;n.value||E(t)&&E(t)instanceof HTMLButtonElement&&!((l=E(t))!=null&&l.hasAttribute("type"))&&(n.value="button")}),n}function lt(e){return[e.screenX,e.screenY]}function Cn(){let e=L([-1,-1]);return{wasMoved(t){let n=lt(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=lt(t)}}}var je=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(je||{}),Tn=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Tn||{});function he({visible:e=!0,features:t=0,ourProps:n,theirProps:l,...i}){var r;let o=xt(l,n),a=Object.assign(i,{props:o});if(e||t&2&&o.static)return Ie(a);if(t&1){let u=(r=o.unmount)==null||r?0:1;return B(u,{0(){return null},1(){return Ie({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Ie(a)}function Ie({props:e,attrs:t,slots:n,slot:l,name:i}){var r,o;let{as:a,...u}=Ot(e,["unmount","static"]),s=(r=n.default)==null?void 0:r.call(n,l),f={};if(l){let c=!1,d=[];for(let[v,h]of Object.entries(l))typeof h=="boolean"&&(c=!0),h===!0&&d.push(v);c&&(f["data-headlessui-state"]=d.join(" "))}if(a==="template"){if(s=wt(s??[]),Object.keys(u).length>0||Object.keys(t).length>0){let[c,...d]=s??[];if(!kn(c)||d.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).map(g=>g.trim()).filter((g,w,b)=>b.indexOf(g)===w).sort((g,w)=>g.localeCompare(w)).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let v=xt((o=c.props)!=null?o:{},u,f),h=Wt(c,v,!0);for(let g in v)g.startsWith("on")&&(h.props||(h.props={}),h.props[g]=v[g]);return h}return Array.isArray(s)&&s.length===1?s[0]:s}return Me(a,Object.assign({},u,f),{default:()=>s})}function wt(e){return e.flatMap(t=>t.type===Ue?wt(t.children):[t])}function xt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let l of e)for(let i in l)i.startsWith("on")&&typeof l[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(l[i])):t[i]=l[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(l=>[l,void 0])));for(let l in n)Object.assign(t,{[l](i,...r){let o=n[l];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...r)}}});return t}function Pn(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Ot(e,t=[]){let n=Object.assign({},e);for(let l of t)l in n&&delete n[l];return n}function kn(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var St=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(St||{});let $n=U({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var l;let{features:i,...r}=e,o={"aria-hidden":(i&2)===2?!0:(l=r["aria-hidden"])!=null?l:void 0,hidden:(i&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return he({ourProps:o,theirProps:r,slot:{},attrs:n,slots:t,name:"Hidden"})}}}),At=Symbol("Context");var pe=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(pe||{});function Fn(){return We(At,null)}function Nn(e){bt(At,e)}var D=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(D||{});function In(e){throw new Error("Unexpected object: "+e)}var T=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(T||{});function _n(e,t){let n=t.resolveItems();if(n.length<=0)return null;let l=t.resolveActiveIndex(),i=l??-1;switch(e.focus){case 0:{for(let r=0;r<n.length;++r)if(!t.resolveDisabled(n[r],r,n))return r;return l}case 1:{i===-1&&(i=n.length);for(let r=i-1;r>=0;--r)if(!t.resolveDisabled(n[r],r,n))return r;return l}case 2:{for(let r=i+1;r<n.length;++r)if(!t.resolveDisabled(n[r],r,n))return r;return l}case 3:{for(let r=n.length-1;r>=0;--r)if(!t.resolveDisabled(n[r],r,n))return r;return l}case 4:{for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return l}case 5:return null;default:In(e)}}function Lt(e={},t=null,n=[]){for(let[l,i]of Object.entries(e))Et(n,Rt(t,l),i);return n}function Rt(e,t){return e?e+"["+t+"]":t}function Et(e,t,n){if(Array.isArray(n))for(let[l,i]of n.entries())Et(e,Rt(t,l.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Lt(n,t,e)}let it=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function rt(e){var t,n;let l=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return l;let r=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),r=!0;let o=r?(n=i.innerText)!=null?n:"":l;return it.test(o)&&(o=o.replace(it,"")),o}function Mn(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let l=n.split(" ").map(i=>{let r=document.getElementById(i);if(r){let o=r.getAttribute("aria-label");return typeof o=="string"?o.trim():rt(r).trim()}return null}).filter(Boolean);if(l.length>0)return l.join(", ")}return rt(e).trim()}function Bn(e){let t=L(""),n=L("");return()=>{let l=E(e);if(!l)return"";let i=l.innerText;if(t.value===i)return n.value;let r=Mn(l).trim().toLowerCase();return t.value=i,n.value=r,r}}function Vn(e,t){return e===t}var jn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(jn||{}),Hn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Hn||{}),zn=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(zn||{});function Wn(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Dt=Symbol("ListboxContext");function Ce(e){let t=We(Dt,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ce),n}return t}let Un=U({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>Vn},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:n,emit:l}){let i=L(1),r=L(null),o=L(null),a=L(null),u=L([]),s=L(""),f=L(null),c=L(1);function d(p=m=>m){let m=f.value!==null?u.value[f.value]:null,y=On(p(u.value.slice()),O=>E(O.dataRef.domRef)),x=m?y.indexOf(m):null;return x===-1&&(x=null),{options:y,activeOptionIndex:x}}let v=A(()=>e.multiple?1:0),[h,g]=fn(A(()=>e.modelValue),p=>l("update:modelValue",p),A(()=>e.defaultValue)),w=A(()=>h.value===void 0?B(v.value,{1:[],0:void 0}):h.value),b={listboxState:i,value:w,mode:v,compare(p,m){if(typeof e.by=="string"){let y=e.by;return p?.[y]===m?.[y]}return e.by(p,m)},orientation:A(()=>e.horizontal?"horizontal":"vertical"),labelRef:r,buttonRef:o,optionsRef:a,disabled:A(()=>e.disabled),options:u,searchQuery:s,activeOptionIndex:f,activationTrigger:c,closeListbox(){e.disabled||i.value!==1&&(i.value=1,f.value=null)},openListbox(){e.disabled||i.value!==0&&(i.value=0)},goToOption(p,m,y){if(e.disabled||i.value===1)return;let x=d(),O=_n(p===T.Specific?{focus:T.Specific,id:m}:{focus:p},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:R=>R.id,resolveDisabled:R=>R.dataRef.disabled});s.value="",f.value=O,c.value=y??1,u.value=x.options},search(p){if(e.disabled||i.value===1)return;let m=s.value!==""?0:1;s.value+=p.toLowerCase();let y=(f.value!==null?u.value.slice(f.value+m).concat(u.value.slice(0,f.value+m)):u.value).find(O=>O.dataRef.textValue.startsWith(s.value)&&!O.dataRef.disabled),x=y?u.value.indexOf(y):-1;x===-1||x===f.value||(f.value=x,c.value=1)},clearSearch(){e.disabled||i.value!==1&&s.value!==""&&(s.value="")},registerOption(p,m){let y=d(x=>[...x,{id:p,dataRef:m}]);u.value=y.options,f.value=y.activeOptionIndex},unregisterOption(p){let m=d(y=>{let x=y.findIndex(O=>O.id===p);return x!==-1&&y.splice(x,1),y});u.value=m.options,f.value=m.activeOptionIndex,c.value=1},theirOnChange(p){e.disabled||g(p)},select(p){e.disabled||g(B(v.value,{0:()=>p,1:()=>{let m=_(b.value.value).slice(),y=_(p),x=m.findIndex(O=>b.compare(y,_(O)));return x===-1?m.push(y):m.splice(x,1),m}}))}};En([o,a],(p,m)=>{var y;b.closeListbox(),yt(m,Ye.Loose)||(p.preventDefault(),(y=E(o))==null||y.focus())},A(()=>i.value===0)),bt(Dt,b),Nn(A(()=>B(i.value,{0:pe.Open,1:pe.Closed})));let S=A(()=>{var p;return(p=E(o))==null?void 0:p.closest("form")});return Se(()=>{le([S],()=>{if(!S.value||e.defaultValue===void 0)return;function p(){b.theirOnChange(e.defaultValue)}return S.value.addEventListener("reset",p),()=>{var m;(m=S.value)==null||m.removeEventListener("reset",p)}},{immediate:!0})}),()=>{let{name:p,modelValue:m,disabled:y,form:x,...O}=e,R={open:i.value===0,disabled:y,value:w.value};return Me(Ue,[...p!=null&&w.value!=null?Lt({[p]:w.value}).map(([P,N])=>Me($n,Pn({features:St.Hidden,key:P,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:x,disabled:y,name:P,value:N}))):[],he({ourProps:{},theirProps:{...n,...Ot(O,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:R,slots:t,attrs:n,name:"Listbox"})])}}}),Kn=U({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var i;let r=(i=e.id)!=null?i:`headlessui-listbox-button-${Ke()}`,o=Ce("ListboxButton");l({el:o.buttonRef,$el:o.buttonRef});function a(c){switch(c.key){case D.Space:case D.Enter:case D.ArrowDown:c.preventDefault(),o.openListbox(),ee(()=>{var d;(d=E(o.optionsRef))==null||d.focus({preventScroll:!0}),o.value.value||o.goToOption(T.First)});break;case D.ArrowUp:c.preventDefault(),o.openListbox(),ee(()=>{var d;(d=E(o.optionsRef))==null||d.focus({preventScroll:!0}),o.value.value||o.goToOption(T.Last)});break}}function u(c){c.key===D.Space&&c.preventDefault()}function s(c){o.disabled.value||(o.listboxState.value===0?(o.closeListbox(),ee(()=>{var d;return(d=E(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})})):(c.preventDefault(),o.openListbox(),Wn(()=>{var d;return(d=E(o.optionsRef))==null?void 0:d.focus({preventScroll:!0})})))}let f=Dn(A(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var c,d;let v={open:o.listboxState.value===0,disabled:o.disabled.value,value:o.value.value},{...h}=e,g={ref:o.buttonRef,id:r,type:f.value,"aria-haspopup":"listbox","aria-controls":(c=E(o.optionsRef))==null?void 0:c.id,"aria-expanded":o.listboxState.value===0,"aria-labelledby":o.labelRef.value?[(d=E(o.labelRef))==null?void 0:d.id,r].join(" "):void 0,disabled:o.disabled.value===!0?!0:void 0,onKeydown:a,onKeyup:u,onClick:s};return he({ourProps:g,theirProps:h,slot:v,attrs:t,slots:n,name:"ListboxButton"})}}}),Xn=U({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:n,expose:l}){var i;let r=(i=e.id)!=null?i:`headlessui-listbox-options-${Ke()}`,o=Ce("ListboxOptions"),a=L(null);l({el:o.optionsRef,$el:o.optionsRef});function u(c){switch(a.value&&clearTimeout(a.value),c.key){case D.Space:if(o.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),o.search(c.key);case D.Enter:if(c.preventDefault(),c.stopPropagation(),o.activeOptionIndex.value!==null){let d=o.options.value[o.activeOptionIndex.value];o.select(d.dataRef.value)}o.mode.value===0&&(o.closeListbox(),ee(()=>{var d;return(d=E(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})}));break;case B(o.orientation.value,{vertical:D.ArrowDown,horizontal:D.ArrowRight}):return c.preventDefault(),c.stopPropagation(),o.goToOption(T.Next);case B(o.orientation.value,{vertical:D.ArrowUp,horizontal:D.ArrowLeft}):return c.preventDefault(),c.stopPropagation(),o.goToOption(T.Previous);case D.Home:case D.PageUp:return c.preventDefault(),c.stopPropagation(),o.goToOption(T.First);case D.End:case D.PageDown:return c.preventDefault(),c.stopPropagation(),o.goToOption(T.Last);case D.Escape:c.preventDefault(),c.stopPropagation(),o.closeListbox(),ee(()=>{var d;return(d=E(o.buttonRef))==null?void 0:d.focus({preventScroll:!0})});break;case D.Tab:c.preventDefault(),c.stopPropagation();break;default:c.key.length===1&&(o.search(c.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}let s=Fn(),f=A(()=>s!==null?(s.value&pe.Open)===pe.Open:o.listboxState.value===0);return()=>{var c,d;let v={open:o.listboxState.value===0},{...h}=e,g={"aria-activedescendant":o.activeOptionIndex.value===null||(c=o.options.value[o.activeOptionIndex.value])==null?void 0:c.id,"aria-multiselectable":o.mode.value===1?!0:void 0,"aria-labelledby":(d=E(o.buttonRef))==null?void 0:d.id,"aria-orientation":o.orientation.value,id:r,onKeydown:u,role:"listbox",tabIndex:0,ref:o.optionsRef};return he({ourProps:g,theirProps:h,slot:v,attrs:t,slots:n,features:je.RenderStrategy|je.Static,visible:f.value,name:"ListboxOptions"})}}}),Yn=U({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:n,expose:l}){var i;let r=(i=e.id)!=null?i:`headlessui-listbox-option-${Ke()}`,o=Ce("ListboxOption"),a=L(null);l({el:a,$el:a});let u=A(()=>o.activeOptionIndex.value!==null?o.options.value[o.activeOptionIndex.value].id===r:!1),s=A(()=>B(o.mode.value,{0:()=>o.compare(_(o.value.value),_(e.value)),1:()=>_(o.value.value).some(p=>o.compare(_(p),_(e.value)))})),f=A(()=>B(o.mode.value,{1:()=>{var p;let m=_(o.value.value);return((p=o.options.value.find(y=>m.some(x=>o.compare(_(x),_(y.dataRef.value)))))==null?void 0:p.id)===r},0:()=>s.value})),c=Bn(a),d=A(()=>({disabled:e.disabled,value:e.value,get textValue(){return c()},domRef:a}));Se(()=>o.registerOption(r,d)),Ut(()=>o.unregisterOption(r)),Se(()=>{le([o.listboxState,s],()=>{o.listboxState.value===0&&s.value&&B(o.mode.value,{1:()=>{f.value&&o.goToOption(T.Specific,r)},0:()=>{o.goToOption(T.Specific,r)}})},{immediate:!0})}),De(()=>{o.listboxState.value===0&&u.value&&o.activationTrigger.value!==0&&ee(()=>{var p,m;return(m=(p=E(a))==null?void 0:p.scrollIntoView)==null?void 0:m.call(p,{block:"nearest"})})});function v(p){if(e.disabled)return p.preventDefault();o.select(e.value),o.mode.value===0&&(o.closeListbox(),ee(()=>{var m;return(m=E(o.buttonRef))==null?void 0:m.focus({preventScroll:!0})}))}function h(){if(e.disabled)return o.goToOption(T.Nothing);o.goToOption(T.Specific,r)}let g=Cn();function w(p){g.update(p)}function b(p){g.wasMoved(p)&&(e.disabled||u.value||o.goToOption(T.Specific,r,0))}function S(p){g.wasMoved(p)&&(e.disabled||u.value&&o.goToOption(T.Nothing))}return()=>{let{disabled:p}=e,m={active:u.value,selected:s.value,disabled:p},{value:y,disabled:x,...O}=e,R={id:r,ref:a,role:"option",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,"aria-selected":s.value,disabled:void 0,onClick:v,onFocus:h,onPointerenter:w,onMouseenter:w,onPointermove:b,onMousemove:b,onPointerleave:S,onMouseleave:S};return he({ourProps:R,theirProps:O,slot:m,attrs:n,slots:t,name:"ListboxOption"})}}});const re=Math.min,k=Math.max,Le=Math.round,Oe=Math.floor,z=e=>({x:e,y:e}),qn={left:"right",right:"left",bottom:"top",top:"bottom"},Gn={start:"end",end:"start"};function at(e,t,n){return k(e,re(t,n))}function ge(e,t){return typeof e=="function"?e(t):e}function G(e){return e.split("-")[0]}function be(e){return e.split("-")[1]}function Ct(e){return e==="x"?"y":"x"}function Tt(e){return e==="y"?"height":"width"}const Zn=new Set(["top","bottom"]);function Y(e){return Zn.has(G(e))?"y":"x"}function Pt(e){return Ct(Y(e))}function Qn(e,t,n){n===void 0&&(n=!1);const l=be(e),i=Pt(e),r=Tt(i);let o=i==="x"?l===(n?"end":"start")?"right":"left":l==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(o=Re(o)),[o,Re(o)]}function Jn(e){const t=Re(e);return[He(e),t,He(t)]}function He(e){return e.replace(/start|end/g,t=>Gn[t])}const st=["left","right"],ut=["right","left"],eo=["top","bottom"],to=["bottom","top"];function no(e,t,n){switch(e){case"top":case"bottom":return n?t?ut:st:t?st:ut;case"left":case"right":return t?eo:to;default:return[]}}function oo(e,t,n,l){const i=be(e);let r=no(G(e),n==="start",l);return i&&(r=r.map(o=>o+"-"+i),t&&(r=r.concat(r.map(He)))),r}function Re(e){return e.replace(/left|right|bottom|top/g,t=>qn[t])}function lo(e){return{top:0,right:0,bottom:0,left:0,...e}}function io(e){return typeof e!="number"?lo(e):{top:e,right:e,bottom:e,left:e}}function Ee(e){const{x:t,y:n,width:l,height:i}=e;return{width:l,height:i,top:n,left:t,right:t+l,bottom:n+i,x:t,y:n}}function ct(e,t,n){let{reference:l,floating:i}=e;const r=Y(t),o=Pt(t),a=Tt(o),u=G(t),s=r==="y",f=l.x+l.width/2-i.width/2,c=l.y+l.height/2-i.height/2,d=l[a]/2-i[a]/2;let v;switch(u){case"top":v={x:f,y:l.y-i.height};break;case"bottom":v={x:f,y:l.y+l.height};break;case"right":v={x:l.x+l.width,y:c};break;case"left":v={x:l.x-i.width,y:c};break;default:v={x:l.x,y:l.y}}switch(be(t)){case"start":v[o]-=d*(n&&s?-1:1);break;case"end":v[o]+=d*(n&&s?-1:1);break}return v}async function ro(e,t){var n;t===void 0&&(t={});const{x:l,y:i,platform:r,rects:o,elements:a,strategy:u}=e,{boundary:s="clippingAncestors",rootBoundary:f="viewport",elementContext:c="floating",altBoundary:d=!1,padding:v=0}=ge(t,e),h=io(v),w=a[d?c==="floating"?"reference":"floating":c],b=Ee(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(w)))==null||n?w:w.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:s,rootBoundary:f,strategy:u})),S=c==="floating"?{x:l,y:i,width:o.floating.width,height:o.floating.height}:o.reference,p=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),m=await(r.isElement==null?void 0:r.isElement(p))?await(r.getScale==null?void 0:r.getScale(p))||{x:1,y:1}:{x:1,y:1},y=Ee(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:S,offsetParent:p,strategy:u}):S);return{top:(b.top-y.top+h.top)/m.y,bottom:(y.bottom-b.bottom+h.bottom)/m.y,left:(b.left-y.left+h.left)/m.x,right:(y.right-b.right+h.right)/m.x}}const ao=async(e,t,n)=>{const{placement:l="bottom",strategy:i="absolute",middleware:r=[],platform:o}=n,a=r.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let s=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:c}=ct(s,l,u),d=l,v={},h=0;for(let w=0;w<a.length;w++){var g;const{name:b,fn:S}=a[w],{x:p,y:m,data:y,reset:x}=await S({x:f,y:c,initialPlacement:l,placement:d,strategy:i,middlewareData:v,rects:s,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:ro},elements:{reference:e,floating:t}});f=p??f,c=m??c,v={...v,[b]:{...v[b],...y}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(d=x.placement),x.rects&&(s=x.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:f,y:c}=ct(s,d,u)),w=-1)}return{x:f,y:c,placement:d,strategy:i,middlewareData:v}},so=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,l;const{placement:i,middlewareData:r,rects:o,initialPlacement:a,platform:u,elements:s}=t,{mainAxis:f=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...w}=ge(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=G(i),S=Y(a),p=G(a)===a,m=await(u.isRTL==null?void 0:u.isRTL(s.floating)),y=d||(p||!g?[Re(a)]:Jn(a)),x=h!=="none";!d&&x&&y.push(...oo(a,g,h,m));const O=[a,...y],R=await u.detectOverflow(t,w),P=[];let N=((l=r.flip)==null?void 0:l.overflows)||[];if(f&&P.push(R[b]),c){const Q=Qn(i,o,m);P.push(R[Q[0]],R[Q[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(Q=>Q<=0)){var se,ue;const Q=(((se=r.flip)==null?void 0:se.index)||0)+1,Fe=O[Q];if(Fe&&(!(c==="alignment"?S!==Y(Fe):!1)||N.every(I=>Y(I.placement)===S?I.overflows[0]>0:!0)))return{data:{index:Q,overflows:N},reset:{placement:Fe}};let fe=(ue=N.filter(J=>J.overflows[0]<=0).sort((J,I)=>J.overflows[1]-I.overflows[1])[0])==null?void 0:ue.placement;if(!fe)switch(v){case"bestFit":{var ce;const J=(ce=N.filter(I=>{if(x){const q=Y(I.placement);return q===S||q==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(q=>q>0).reduce((q,Vt)=>q+Vt,0)]).sort((I,q)=>I[1]-q[1])[0])==null?void 0:ce[0];J&&(fe=J);break}case"initialPlacement":fe=a;break}if(i!==fe)return{reset:{placement:fe}}}return{}}}},uo=new Set(["left","top"]);async function co(e,t){const{placement:n,platform:l,elements:i}=e,r=await(l.isRTL==null?void 0:l.isRTL(i.floating)),o=G(n),a=be(n),u=Y(n)==="y",s=uo.has(o)?-1:1,f=r&&u?-1:1,c=ge(t,e);let{mainAxis:d,crossAxis:v,alignmentAxis:h}=typeof c=="number"?{mainAxis:c,crossAxis:0,alignmentAxis:null}:{mainAxis:c.mainAxis||0,crossAxis:c.crossAxis||0,alignmentAxis:c.alignmentAxis};return a&&typeof h=="number"&&(v=a==="end"?h*-1:h),u?{x:v*f,y:d*s}:{x:d*s,y:v*f}}const fo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,l;const{x:i,y:r,placement:o,middlewareData:a}=t,u=await co(t,e);return o===((n=a.offset)==null?void 0:n.placement)&&(l=a.arrow)!=null&&l.alignmentOffset?{}:{x:i+u.x,y:r+u.y,data:{...u,placement:o}}}}},po=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:l,placement:i,platform:r}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:u={fn:b=>{let{x:S,y:p}=b;return{x:S,y:p}}},...s}=ge(e,t),f={x:n,y:l},c=await r.detectOverflow(t,s),d=Y(G(i)),v=Ct(d);let h=f[v],g=f[d];if(o){const b=v==="y"?"top":"left",S=v==="y"?"bottom":"right",p=h+c[b],m=h-c[S];h=at(p,h,m)}if(a){const b=d==="y"?"top":"left",S=d==="y"?"bottom":"right",p=g+c[b],m=g-c[S];g=at(p,g,m)}const w=u.fn({...t,[v]:h,[d]:g});return{...w,data:{x:w.x-n,y:w.y-l,enabled:{[v]:o,[d]:a}}}}}},vo=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,l;const{placement:i,rects:r,platform:o,elements:a}=t,{apply:u=()=>{},...s}=ge(e,t),f=await o.detectOverflow(t,s),c=G(i),d=be(i),v=Y(i)==="y",{width:h,height:g}=r.floating;let w,b;c==="top"||c==="bottom"?(w=c,b=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=c,w=d==="end"?"top":"bottom");const S=g-f.top-f.bottom,p=h-f.left-f.right,m=re(g-f[w],S),y=re(h-f[b],p),x=!t.middlewareData.shift;let O=m,R=y;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=p),(l=t.middlewareData.shift)!=null&&l.enabled.y&&(O=S),x&&!d){const N=k(f.left,0),se=k(f.right,0),ue=k(f.top,0),ce=k(f.bottom,0);v?R=h-2*(N!==0||se!==0?N+se:k(f.left,f.right)):O=g-2*(ue!==0||ce!==0?ue+ce:k(f.top,f.bottom))}await u({...t,availableWidth:R,availableHeight:O});const P=await o.getDimensions(a.floating);return h!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Te(){return typeof window<"u"}function ne(e){return qe(e)?(e.nodeName||"").toLowerCase():"#document"}function $(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function K(e){var t;return(t=(qe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qe(e){return Te()?e instanceof Node||e instanceof $(e).Node:!1}function V(e){return Te()?e instanceof Element||e instanceof $(e).Element:!1}function W(e){return Te()?e instanceof HTMLElement||e instanceof $(e).HTMLElement:!1}function ft(e){return!Te()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $(e).ShadowRoot}const mo=new Set(["inline","contents"]);function ye(e){const{overflow:t,overflowX:n,overflowY:l,display:i}=j(e);return/auto|scroll|overlay|hidden|clip/.test(t+l+n)&&!mo.has(i)}const ho=new Set(["table","td","th"]);function go(e){return ho.has(ne(e))}const bo=[":popover-open",":modal"];function Pe(e){return bo.some(t=>{try{return e.matches(t)}catch{return!1}})}const yo=["transform","translate","scale","rotate","perspective"],wo=["transform","translate","scale","rotate","perspective","filter"],xo=["paint","layout","strict","content"];function Ge(e){const t=Ze(),n=V(e)?j(e):e;return yo.some(l=>n[l]?n[l]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||wo.some(l=>(n.willChange||"").includes(l))||xo.some(l=>(n.contain||"").includes(l))}function Oo(e){let t=Z(e);for(;W(t)&&!ae(t);){if(Ge(t))return t;if(Pe(t))return null;t=Z(t)}return null}function Ze(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const So=new Set(["html","body","#document"]);function ae(e){return So.has(ne(e))}function j(e){return $(e).getComputedStyle(e)}function ke(e){return V(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Z(e){if(ne(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ft(e)&&e.host||K(e);return ft(t)?t.host:t}function kt(e){const t=Z(e);return ae(t)?e.ownerDocument?e.ownerDocument.body:e.body:W(t)&&ye(t)?t:kt(t)}function ve(e,t,n){var l;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=kt(e),r=i===((l=e.ownerDocument)==null?void 0:l.body),o=$(i);if(r){const a=ze(o);return t.concat(o,o.visualViewport||[],ye(i)?i:[],a&&n?ve(a):[])}return t.concat(i,ve(i,[],n))}function ze(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $t(e){const t=j(e);let n=parseFloat(t.width)||0,l=parseFloat(t.height)||0;const i=W(e),r=i?e.offsetWidth:n,o=i?e.offsetHeight:l,a=Le(n)!==r||Le(l)!==o;return a&&(n=r,l=o),{width:n,height:l,$:a}}function Qe(e){return V(e)?e:e.contextElement}function ie(e){const t=Qe(e);if(!W(t))return z(1);const n=t.getBoundingClientRect(),{width:l,height:i,$:r}=$t(t);let o=(r?Le(n.width):n.width)/l,a=(r?Le(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Ao=z(0);function Ft(e){const t=$(e);return!Ze()||!t.visualViewport?Ao:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lo(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$(e)?!1:t}function te(e,t,n,l){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),r=Qe(e);let o=z(1);t&&(l?V(l)&&(o=ie(l)):o=ie(e));const a=Lo(r,n,l)?Ft(r):z(0);let u=(i.left+a.x)/o.x,s=(i.top+a.y)/o.y,f=i.width/o.x,c=i.height/o.y;if(r){const d=$(r),v=l&&V(l)?$(l):l;let h=d,g=ze(h);for(;g&&l&&v!==h;){const w=ie(g),b=g.getBoundingClientRect(),S=j(g),p=b.left+(g.clientLeft+parseFloat(S.paddingLeft))*w.x,m=b.top+(g.clientTop+parseFloat(S.paddingTop))*w.y;u*=w.x,s*=w.y,f*=w.x,c*=w.y,u+=p,s+=m,h=$(g),g=ze(h)}}return Ee({width:f,height:c,x:u,y:s})}function $e(e,t){const n=ke(e).scrollLeft;return t?t.left+n:te(K(e)).left+n}function Nt(e,t){const n=e.getBoundingClientRect(),l=n.left+t.scrollLeft-$e(e,n),i=n.top+t.scrollTop;return{x:l,y:i}}function Ro(e){let{elements:t,rect:n,offsetParent:l,strategy:i}=e;const r=i==="fixed",o=K(l),a=t?Pe(t.floating):!1;if(l===o||a&&r)return n;let u={scrollLeft:0,scrollTop:0},s=z(1);const f=z(0),c=W(l);if((c||!c&&!r)&&((ne(l)!=="body"||ye(o))&&(u=ke(l)),W(l))){const v=te(l);s=ie(l),f.x=v.x+l.clientLeft,f.y=v.y+l.clientTop}const d=o&&!c&&!r?Nt(o,u):z(0);return{width:n.width*s.x,height:n.height*s.y,x:n.x*s.x-u.scrollLeft*s.x+f.x+d.x,y:n.y*s.y-u.scrollTop*s.y+f.y+d.y}}function Eo(e){return Array.from(e.getClientRects())}function Do(e){const t=K(e),n=ke(e),l=e.ownerDocument.body,i=k(t.scrollWidth,t.clientWidth,l.scrollWidth,l.clientWidth),r=k(t.scrollHeight,t.clientHeight,l.scrollHeight,l.clientHeight);let o=-n.scrollLeft+$e(e);const a=-n.scrollTop;return j(l).direction==="rtl"&&(o+=k(t.clientWidth,l.clientWidth)-i),{width:i,height:r,x:o,y:a}}const dt=25;function Co(e,t){const n=$(e),l=K(e),i=n.visualViewport;let r=l.clientWidth,o=l.clientHeight,a=0,u=0;if(i){r=i.width,o=i.height;const f=Ze();(!f||f&&t==="fixed")&&(a=i.offsetLeft,u=i.offsetTop)}const s=$e(l);if(s<=0){const f=l.ownerDocument,c=f.body,d=getComputedStyle(c),v=f.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,h=Math.abs(l.clientWidth-c.clientWidth-v);h<=dt&&(r-=h)}else s<=dt&&(r+=s);return{width:r,height:o,x:a,y:u}}const To=new Set(["absolute","fixed"]);function Po(e,t){const n=te(e,!0,t==="fixed"),l=n.top+e.clientTop,i=n.left+e.clientLeft,r=W(e)?ie(e):z(1),o=e.clientWidth*r.x,a=e.clientHeight*r.y,u=i*r.x,s=l*r.y;return{width:o,height:a,x:u,y:s}}function pt(e,t,n){let l;if(t==="viewport")l=Co(e,n);else if(t==="document")l=Do(K(e));else if(V(t))l=Po(t,n);else{const i=Ft(e);l={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Ee(l)}function It(e,t){const n=Z(e);return n===t||!V(n)||ae(n)?!1:j(n).position==="fixed"||It(n,t)}function ko(e,t){const n=t.get(e);if(n)return n;let l=ve(e,[],!1).filter(a=>V(a)&&ne(a)!=="body"),i=null;const r=j(e).position==="fixed";let o=r?Z(e):e;for(;V(o)&&!ae(o);){const a=j(o),u=Ge(o);!u&&a.position==="fixed"&&(i=null),(r?!u&&!i:!u&&a.position==="static"&&!!i&&To.has(i.position)||ye(o)&&!u&&It(e,o))?l=l.filter(f=>f!==o):i=a,o=Z(o)}return t.set(e,l),l}function $o(e){let{element:t,boundary:n,rootBoundary:l,strategy:i}=e;const o=[...n==="clippingAncestors"?Pe(t)?[]:ko(t,this._c):[].concat(n),l],a=o[0],u=o.reduce((s,f)=>{const c=pt(t,f,i);return s.top=k(c.top,s.top),s.right=re(c.right,s.right),s.bottom=re(c.bottom,s.bottom),s.left=k(c.left,s.left),s},pt(t,a,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Fo(e){const{width:t,height:n}=$t(e);return{width:t,height:n}}function No(e,t,n){const l=W(t),i=K(t),r=n==="fixed",o=te(e,!0,r,t);let a={scrollLeft:0,scrollTop:0};const u=z(0);function s(){u.x=$e(i)}if(l||!l&&!r)if((ne(t)!=="body"||ye(i))&&(a=ke(t)),l){const v=te(t,!0,r,t);u.x=v.x+t.clientLeft,u.y=v.y+t.clientTop}else i&&s();r&&!l&&i&&s();const f=i&&!l&&!r?Nt(i,a):z(0),c=o.left+a.scrollLeft-u.x-f.x,d=o.top+a.scrollTop-u.y-f.y;return{x:c,y:d,width:o.width,height:o.height}}function _e(e){return j(e).position==="static"}function vt(e,t){if(!W(e)||j(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return K(e)===n&&(n=n.ownerDocument.body),n}function _t(e,t){const n=$(e);if(Pe(e))return n;if(!W(e)){let i=Z(e);for(;i&&!ae(i);){if(V(i)&&!_e(i))return i;i=Z(i)}return n}let l=vt(e,t);for(;l&&go(l)&&_e(l);)l=vt(l,t);return l&&ae(l)&&_e(l)&&!Ge(l)?n:l||Oo(e)||n}const Io=async function(e){const t=this.getOffsetParent||_t,n=this.getDimensions,l=await n(e.floating);return{reference:No(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function _o(e){return j(e).direction==="rtl"}const Mo={convertOffsetParentRelativeRectToViewportRelativeRect:Ro,getDocumentElement:K,getClippingRect:$o,getOffsetParent:_t,getElementRects:Io,getClientRects:Eo,getDimensions:Fo,getScale:ie,isElement:V,isRTL:_o};function Mt(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Bo(e,t){let n=null,l;const i=K(e);function r(){var a;clearTimeout(l),(a=n)==null||a.disconnect(),n=null}function o(a,u){a===void 0&&(a=!1),u===void 0&&(u=1),r();const s=e.getBoundingClientRect(),{left:f,top:c,width:d,height:v}=s;if(a||t(),!d||!v)return;const h=Oe(c),g=Oe(i.clientWidth-(f+d)),w=Oe(i.clientHeight-(c+v)),b=Oe(f),p={rootMargin:-h+"px "+-g+"px "+-w+"px "+-b+"px",threshold:k(0,re(1,u))||1};let m=!0;function y(x){const O=x[0].intersectionRatio;if(O!==u){if(!m)return o();O?o(!1,O):l=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!Mt(s,e.getBoundingClientRect())&&o(),m=!1}try{n=new IntersectionObserver(y,{...p,root:i.ownerDocument})}catch{n=new IntersectionObserver(y,p)}n.observe(e)}return o(!0),r}function Vo(e,t,n,l){l===void 0&&(l={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=l,s=Qe(e),f=i||r?[...s?ve(s):[],...ve(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const c=s&&a?Bo(s,n):null;let d=-1,v=null;o&&(v=new ResizeObserver(b=>{let[S]=b;S&&S.target===s&&v&&(v.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var p;(p=v)==null||p.observe(t)})),n()}),s&&!u&&v.observe(s),v.observe(t));let h,g=u?te(e):null;u&&w();function w(){const b=te(e);g&&!Mt(g,b)&&n(),g=b,h=requestAnimationFrame(w)}return n(),()=>{var b;f.forEach(S=>{i&&S.removeEventListener("scroll",n),r&&S.removeEventListener("resize",n)}),c?.(),(b=v)==null||b.disconnect(),v=null,u&&cancelAnimationFrame(h)}}const jo=fo,Ho=po,zo=so,Wo=vo,Uo=(e,t,n)=>{const l=new Map,i={platform:Mo,...n},r={...i.platform,_c:l};return ao(e,t,{...i,platform:r})};function Ko(e){return e!=null&&typeof e=="object"&&"$el"in e}function mt(e){if(Ko(e)){const t=e.$el;return qe(t)&&ne(t)==="#comment"?null:t}return e}function de(e){return typeof e=="function"?e():C(e)}function Bt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ht(e,t){const n=Bt(e);return Math.round(t*n)/n}function Xo(e,t,n){n===void 0&&(n={});const l=n.whileElementsMounted,i=A(()=>{var O;return(O=de(n.open))!=null?O:!0}),r=A(()=>de(n.middleware)),o=A(()=>{var O;return(O=de(n.placement))!=null?O:"bottom"}),a=A(()=>{var O;return(O=de(n.strategy))!=null?O:"absolute"}),u=A(()=>{var O;return(O=de(n.transform))!=null?O:!0}),s=A(()=>mt(e.value)),f=A(()=>mt(t.value)),c=L(0),d=L(0),v=L(a.value),h=L(o.value),g=Kt({}),w=L(!1),b=A(()=>{const O={position:v.value,left:"0",top:"0"};if(!f.value)return O;const R=ht(f.value,c.value),P=ht(f.value,d.value);return u.value?{...O,transform:"translate("+R+"px, "+P+"px)",...Bt(f.value)>=1.5&&{willChange:"transform"}}:{position:v.value,left:R+"px",top:P+"px"}});let S;function p(){if(s.value==null||f.value==null)return;const O=i.value;Uo(s.value,f.value,{middleware:r.value,placement:o.value,strategy:a.value}).then(R=>{c.value=R.x,d.value=R.y,v.value=R.strategy,h.value=R.placement,g.value=R.middlewareData,w.value=O!==!1})}function m(){typeof S=="function"&&(S(),S=void 0)}function y(){if(m(),l===void 0){p();return}if(s.value!=null&&f.value!=null){S=l(s.value,f.value,p);return}}function x(){i.value||(w.value=!1)}return le([r,o,a,i],p,{flush:"sync"}),le([s,f],y,{flush:"sync"}),le(i,x,{flush:"sync"}),Xt()&&Yt(m),{x:oe(c),y:oe(d),strategy:oe(v),placement:oe(h),middlewareData:oe(g),isPositioned:oe(w),floatingStyles:b,update:p}}const Yo={class:"truncate"},qo={class:"flex gap-2 items-center"},Go={class:"relative"},Zo=U({__name:"FieldSelect",props:{name:{},options:{},value:{default:"value"},id:{default:"id"},placeholder:{default:"Tanlang"},selectIcon:{type:Boolean,default:!0}},setup(e){const t=e,n=L(null),l=L(null),i=L(!1),{floatingStyles:r}=Xo(n,l,{placement:"bottom-start",whileElementsMounted:Vo,middleware:[jo(4),zo(),Ho({padding:8}),Wo({apply({rects:u,elements:s}){s.floating.style.setProperty("--ref-width",`${u.reference.width}px`),i.value||(i.value=!0)}})]});le(()=>l.value,u=>{u||(i.value=!1)});const o=A(()=>t.options.map(u=>typeof u=="object"?{label:u[t.value],value:u[t.id]}:{label:String(u),value:u}));function a(u){return o.value.find(s=>s.value===u)?.label??t.placeholder}return(u,s)=>(F(),X(C(me),{name:e.name},{default:H(({field:f,meta:c,handleChange:d})=>[we(C(Un),{"model-value":f.value,"onUpdate:modelValue":d,as:"div",class:"ui-select field p-0!","data-error":c.touched&&!c.valid||void 0},{default:H(({open:v})=>[we(C(Kn),{ref_key:"reference",ref:n,class:"ui-select__control w-full flex items-center justify-between px-3 py-2"},{default:H(()=>[M("span",Yo,Ae(a(f.value)),1),M("span",qo,[f.value&&e.selectIcon?(F(),X(C(Je),{key:0,class:"h-4 w-4 text-blue-600"})):Ne("",!0),we(C(nn),{class:Be(["h-4 w-4 transition-transform duration-150",{"rotate-180":v}])},null,8,["class"])])]),_:2},1536),M("div",Go,[we(qt,{"enter-active-class":"transition ease-out duration-150","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:H(()=>[v?Gt((F(),X(C(Xn),{key:0,ref_key:"floating",ref:l,style:Qt(C(r)),class:"ui-select__options z-50 w-(--ref-width) overflow-auto border border-(--z-border)"},{default:H(()=>[(F(!0),Ve(Ue,null,Jt(o.value,h=>(F(),X(C(Yn),{key:h.value,value:h.value,class:Be(["cursor-pointer px-3 py-2 flex justify-between items-center hover:bg-gray-100",{"bg-(--z-border)":f.value===h.value}])},{default:H(({selected:g})=>[M("span",null,Ae(h.label),1),g?(F(),X(C(Je),{key:0,class:"h-4 w-4 text-blue-600"})):Ne("",!0)]),_:2},1032,["value","class"]))),128))]),_:2},1032,["style"])),[[Zt,i.value]]):Ne("",!0)]),_:2},1024)])]),_:2},1032,["model-value","onUpdate:modelValue","data-error"])]),_:1},8,["name"]))}}),Qo=["id","onVnodeMounted","onInput","onChange","placeholder","disabled"],Jo=["for"],el={key:0,class:"font-semibold"},tl={key:1},nl=U({__name:"FieldToggleButton",props:{name:{},placeholder:{},type:{},disabled:{type:Boolean},invalid:{type:Boolean},size:{}},setup(e){const t=en(),n=L(!1);function l(o,a){const u=o.target;n.value=u.checked,a.onInput(u.checked)}function i(o){n.value=o.value}const r=e;return(o,a)=>(F(),X(C(me),{name:r.name},{default:H(({field:u,handleChange:s})=>[M("input",gt({type:"checkbox",class:["input-text",[e.size&&`input-${e.size}`]],id:"checkbox"+r.name,onVnodeMounted:f=>i(u),onInput:s,onChange:f=>l(f,u)},u,{placeholder:e.placeholder,disabled:e.disabled,hidden:""}),null,16,Qo),M("label",{for:"checkbox"+r.name,class:"cursor-pointer flex items-center gap-2 bg-(--color-surface-muted) p-1 rounded-md select-none"},[M("div",{class:Be([{"bg-(--color-surface)":n.value},"py-1.5 w-full text-center rounded-sm transition-all"])},[n.value?(F(),Ve("span",el,Ae(C(t).onLabel),1)):(F(),Ve("span",tl,Ae(C(t).offLabel),1))],2)],8,Jo)]),_:1},8,["name"]))}}),cl={FieldText:Ht,FieldNumber:an,FieldSelect:Zo,FieldTextarea:cn,FieldToggleButton:nl,FieldImage:jt,FieldMask:ln};export{cl as I};
