import{_ as X}from"./BaseButton.vue_vue_type_script_setup_true_lang-Vj2628ss.js";import{p as Y,f as K,t as W}from"./Helpers-BOoW1qfp.js";import{d as J,o as Z,c as z,B as c,a as M,w as I,O as d,K as w,G as $,F as T,E as q,M as N,R as j,b as aa,W as ea,h as ta,p as la,e as _,f as sa}from"./index-CTwd-zWN.js";import{P as na}from"./ProductRepo-mrHZ_HtN.js";import{e as ia,c as oa,m as x,a as ra,s as V,b as ca,d as U,S as da,M as fa,f as ua}from"./swiper-vue-BnnMf5H0.js";import{c as ma}from"./createLucideIcon-tcSCCwuj.js";import{H as pa}from"./heart-Ddd3qde4.js";const ga=ma("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);function ha(a,P,s,v){return a.params.createElements&&Object.keys(v).forEach(i=>{if(!s[i]&&s.auto===!0){let p=ia(a.el,`.${v[i]}`)[0];p||(p=oa("div",v[i]),p.className=v[i],a.el.append(p)),s[i]=p,P[i]=p}}),s}function D(a=""){return`.${a.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function va({swiper:a,extendParams:P,on:s,emit:v}){const i="swiper-pagination";P({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),a.pagination={el:null,bullets:[]};let p,y=0;function r(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function L(e,t){const{bulletActiveClass:l}=a.params.pagination;e&&(e=e[`${t==="prev"?"previous":"next"}ElementSibling`],e&&(e.classList.add(`${l}-${t}`),e=e[`${t==="prev"?"previous":"next"}ElementSibling`],e&&e.classList.add(`${l}-${t}-${t}`)))}function b(e,t,l){if(e=e%l,t=t%l,t===e+1)return"next";if(t===e-1)return"previous"}function G(e){const t=e.target.closest(D(a.params.pagination.bulletClass));if(!t)return;e.preventDefault();const l=U(t)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===l)return;const n=b(a.realIndex,l,a.slides.length);n==="next"?a.slideNext():n==="previous"?a.slidePrev():a.slideToLoop(l)}else a.slideTo(l)}function B(){const e=a.rtl,t=a.params.pagination;if(r())return;let l=a.pagination.el;l=x(l);let n,g;const k=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,H=a.params.loop?Math.ceil(k/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(g=a.previousRealIndex||0,n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex):typeof a.snapIndex<"u"?(n=a.snapIndex,g=a.previousSnapIndex):(g=a.previousIndex||0,n=a.activeIndex||0),t.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const o=a.pagination.bullets;let C,h,S;if(t.dynamicBullets&&(p=ca(o[0],a.isHorizontal()?"width":"height"),l.forEach(f=>{f.style[a.isHorizontal()?"width":"height"]=`${p*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&g!==void 0&&(y+=n-(g||0),y>t.dynamicMainBullets-1?y=t.dynamicMainBullets-1:y<0&&(y=0)),C=Math.max(n-y,0),h=C+(Math.min(o.length,t.dynamicMainBullets)-1),S=(h+C)/2),o.forEach(f=>{const u=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(m=>`${t.bulletActiveClass}${m}`)].map(m=>typeof m=="string"&&m.includes(" ")?m.split(" "):m).flat();f.classList.remove(...u)}),l.length>1)o.forEach(f=>{const u=U(f);u===n?f.classList.add(...t.bulletActiveClass.split(" ")):a.isElement&&f.setAttribute("part","bullet"),t.dynamicBullets&&(u>=C&&u<=h&&f.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),u===C&&L(f,"prev"),u===h&&L(f,"next"))});else{const f=o[n];if(f&&f.classList.add(...t.bulletActiveClass.split(" ")),a.isElement&&o.forEach((u,m)=>{u.setAttribute("part",m===n?"bullet-active":"bullet")}),t.dynamicBullets){const u=o[C],m=o[h];for(let A=C;A<=h;A+=1)o[A]&&o[A].classList.add(...`${t.bulletActiveClass}-main`.split(" "));L(u,"prev"),L(m,"next")}}if(t.dynamicBullets){const f=Math.min(o.length,t.dynamicMainBullets+4),u=(p*f-p)/2-S*p,m=e?"right":"left";o.forEach(A=>{A.style[a.isHorizontal()?m:"top"]=`${u}px`})}}l.forEach((o,C)=>{if(t.type==="fraction"&&(o.querySelectorAll(D(t.currentClass)).forEach(h=>{h.textContent=t.formatFractionCurrent(n+1)}),o.querySelectorAll(D(t.totalClass)).forEach(h=>{h.textContent=t.formatFractionTotal(H)})),t.type==="progressbar"){let h;t.progressbarOpposite?h=a.isHorizontal()?"vertical":"horizontal":h=a.isHorizontal()?"horizontal":"vertical";const S=(n+1)/H;let f=1,u=1;h==="horizontal"?f=S:u=S,o.querySelectorAll(D(t.progressbarFillClass)).forEach(m=>{m.style.transform=`translate3d(0,0,0) scaleX(${f}) scaleY(${u})`,m.style.transitionDuration=`${a.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(V(o,t.renderCustom(a,n+1,H)),C===0&&v("paginationRender",o)):(C===0&&v("paginationRender",o),v("paginationUpdate",o)),a.params.watchOverflow&&a.enabled&&o.classList[a.isLocked?"add":"remove"](t.lockClass)})}function O(){const e=a.params.pagination;if(r())return;const t=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.grid&&a.params.grid.rows>1?a.slides.length/Math.ceil(a.params.grid.rows):a.slides.length;let l=a.pagination.el;l=x(l);let n="";if(e.type==="bullets"){let g=a.params.loop?Math.ceil(t/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&g>t&&(g=t);for(let k=0;k<g;k+=1)e.renderBullet?n+=e.renderBullet.call(a,k,e.bulletClass):n+=`<${e.bulletElement} ${a.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}e.type==="fraction"&&(e.renderFraction?n=e.renderFraction.call(a,e.currentClass,e.totalClass):n=`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),e.type==="progressbar"&&(e.renderProgressbar?n=e.renderProgressbar.call(a,e.progressbarFillClass):n=`<span class="${e.progressbarFillClass}"></span>`),a.pagination.bullets=[],l.forEach(g=>{e.type!=="custom"&&V(g,n||""),e.type==="bullets"&&a.pagination.bullets.push(...g.querySelectorAll(D(e.bulletClass)))}),e.type!=="custom"&&v("paginationRender",l[0])}function E(){a.params.pagination=ha(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const e=a.params.pagination;if(!e.el)return;let t;typeof e.el=="string"&&a.isElement&&(t=a.el.querySelector(e.el)),!t&&typeof e.el=="string"&&(t=[...document.querySelectorAll(e.el)]),t||(t=e.el),!(!t||t.length===0)&&(a.params.uniqueNavElements&&typeof e.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...a.el.querySelectorAll(e.el)],t.length>1&&(t=t.find(l=>ra(l,".swiper")[0]===a.el))),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(a.pagination,{el:t}),t=x(t),t.forEach(l=>{e.type==="bullets"&&e.clickable&&l.classList.add(...(e.clickableClass||"").split(" ")),l.classList.add(e.modifierClass+e.type),l.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.type==="bullets"&&e.dynamicBullets&&(l.classList.add(`${e.modifierClass}${e.type}-dynamic`),y=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),e.type==="progressbar"&&e.progressbarOpposite&&l.classList.add(e.progressbarOppositeClass),e.clickable&&l.addEventListener("click",G),a.enabled||l.classList.add(e.lockClass)}))}function F(){const e=a.params.pagination;if(r())return;let t=a.pagination.el;t&&(t=x(t),t.forEach(l=>{l.classList.remove(e.hiddenClass),l.classList.remove(e.modifierClass+e.type),l.classList.remove(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(l.classList.remove(...(e.clickableClass||"").split(" ")),l.removeEventListener("click",G))})),a.pagination.bullets&&a.pagination.bullets.forEach(l=>l.classList.remove(...e.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!a.pagination||!a.pagination.el)return;const e=a.params.pagination;let{el:t}=a.pagination;t=x(t),t.forEach(l=>{l.classList.remove(e.horizontalClass,e.verticalClass),l.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass)})}),s("init",()=>{a.params.pagination.enabled===!1?R():(E(),O(),B())}),s("activeIndexChange",()=>{typeof a.snapIndex>"u"&&B()}),s("snapIndexChange",()=>{B()}),s("snapGridLengthChange",()=>{O(),B()}),s("destroy",()=>{F()}),s("enable disable",()=>{let{el:e}=a.pagination;e&&(e=x(e),e.forEach(t=>t.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),s("lock unlock",()=>{B()}),s("click",(e,t)=>{const l=t.target,n=x(a.pagination.el);if(a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!l.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&l===a.navigation.nextEl||a.navigation.prevEl&&l===a.navigation.prevEl))return;const g=n[0].classList.contains(a.params.pagination.hiddenClass);v(g===!0?"paginationShow":"paginationHide"),n.forEach(k=>k.classList.toggle(a.params.pagination.hiddenClass))}});const Q=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=x(e),e.forEach(t=>t.classList.remove(a.params.pagination.paginationDisabledClass))),E(),O(),B()},R=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=x(e),e.forEach(t=>t.classList.add(a.params.pagination.paginationDisabledClass))),F()};Object.assign(a.pagination,{enable:Q,disable:R,render:O,update:B,init:E,destroy:F})}const ya={class:"full-page flex flex-col"},ba={class:"grow relative"},Ca={class:"relative -mt-[calc(var(--safe-area-top)+var(--spacing)*4)]"},xa=["src"],$a={class:"pt-5 px-4"},_a={class:"mb-4 text-xl font-medium"},La={class:"text-(--z-muted-text) text-xs flex gap-2 items-center mb-6"},Ba={class:"capitalize"},ka={class:"flex items-center gap-1"},za={class:"py-1 leading-5 text-sm mb-6"},Aa={key:0,class:"title text-sm mb-2"},Ma={key:1,class:"text-sm divide-y divide-gray-50"},Pa={class:"text-(--z-muted-text)"},Sa={class:"flex gap-1.5 font-medium"},Ia={key:0},Da={class:"px-4 pt-4 border-t border-(--z-border) flex gap-4"},Ta=J({__name:"ProductPage",setup(a){const P=aa(),{data:s,execute:v}=ea(na.show),i=ta(!1);function p(y){la()&&window.open(`tel:${y}`)}return Z(async()=>{if(await v(P.params.id),s.value?.images?.length){const y=s.value.images.map(r=>`/storage/${r.src}`);await Y(y)}i.value=!0}),(y,r)=>{const L=X;return _(),z("section",ya,[c("aside",ba,[c("main",Ca,[M(d(da),{modules:[d(va)],pagination:"",class:"h-64"},{default:I(()=>[(_(!0),z(N,null,j(d(s)?.images,b=>(_(),sa(d(ua),{key:b.id},{default:I(()=>[c("img",{src:`/storage/${b.src}`,class:"h-full w-full object-cover"},null,8,xa)]),_:2},1024))),128))]),_:1},8,["modules"])]),c("main",$a,[c("div",{class:w(["inline-flex items-center gap-1 font-extrabold text-2xl mb-3",{"flex-row-reverse":d(s)?.price_type.position==="left"}])},[c("span",null,$(d(K)(d(s)?.price)),1),c("span",null,$(d(s)?.price_type.type),1)],2),c("h1",_a,$(d(s)?.title),1),c("div",La,[c("span",Ba,$(d(W)(d(s)?.created_at)),1),r[2]||(r[2]=c("span",{class:"inline-block w-1 h-1 rounded-full bg-(--z-muted-text)"},null,-1)),r[3]||(r[3]=c("span",{class:"flex items-center gap-1"}," 1.2k ko'rildi ",-1)),r[4]||(r[4]=c("span",{class:"inline-block w-1 h-1 rounded-full bg-(--z-muted-text)"},null,-1)),c("span",ka,[M(d(fa),{class:"size-3 inline"}),r[1]||(r[1]=T(" Uchquduq ",-1))])]),r[5]||(r[5]=c("h3",{class:"title text-sm"},"Izoh",-1)),c("div",za,$(d(s)?.description),1),d(s)?.parameter_values.length?(_(),z("h3",Aa,"Qo'shimcha ma'lumot")):q("",!0),d(s)?.parameter_values.length?(_(),z("aside",Ma,[(_(!0),z(N,null,j(d(s).parameter_values,b=>(_(),z("div",{key:b.id,class:"flex justify-between py-2"},[c("span",Pa,$(b.parameter.title),1),c("main",Sa,[c("span",null,$(b.value),1),b.parameter.unit?(_(),z("span",Ia,$(b.parameter.unit),1)):q("",!0)])]))),128))])):q("",!0)])]),c("aside",Da,[M(L,{onClick:r[0]||(r[0]=b=>p(d(s)?.phone)),severity:"primary",class:"grow"},{icon:I(()=>[M(d(ga),{class:"size-4 inline"})]),default:I(()=>[r[6]||(r[6]=T(" Qo'ng'iroq qilish ",-1))]),_:1}),M(L,{severity:"secondary",iconOnly:"",class:"aspect-square"},{icon:I(()=>[M(d(pa),{class:"size-5 inline"})]),_:1})])])}}});export{Ta as default};
