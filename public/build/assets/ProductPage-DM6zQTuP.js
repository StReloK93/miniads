import{_ as Q}from"./BaseButton.vue_vue_type_script_setup_true_lang-m0c3aACJ.js";import{p as X,f as K,t as W}from"./Helpers-5Npp2uYL.js";import{d as J,o as Z,c as x,O as c,B as d,a as M,w as I,K as w,G as _,F as N,E as q,M as R,R as j,Y as aa,b as ea,W as ta,h as la,p as sa,e as y,f as na}from"./index-DpVxAIMH.js";import{P as ia}from"./ProductRepo-COzZpo89.js";import{e as oa,c as ra,m as k,a as ca,s as V,b as da,d as U,S as fa,M as ma,f as ua}from"./swiper-vue-B69_BzQZ.js";import{c as pa}from"./createLucideIcon-DSGK5MAY.js";import{H as ga}from"./heart-BoNUMJPJ.js";const ha=pa("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);function va(a,S,s,v){return a.params.createElements&&Object.keys(v).forEach(o=>{if(!s[o]&&s.auto===!0){let p=oa(a.el,`.${v[o]}`)[0];p||(p=ra("div",v[o]),p.className=v[o],a.el.append(p)),s[o]=p,S[o]=p}}),s}function D(a=""){return`.${a.trim().replace(/([\.:!+\/()[\]#>~*^$|=,'"@{}\\])/g,"\\$1").replace(/ /g,".")}`}function ba({swiper:a,extendParams:S,on:s,emit:v}){const o="swiper-pagination";S({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),a.pagination={el:null,bullets:[]};let p,b=0;function i(){return!a.params.pagination.el||!a.pagination.el||Array.isArray(a.pagination.el)&&a.pagination.el.length===0}function L(e,t){const{bulletActiveClass:l}=a.params.pagination;e&&(e=e[`${t==="prev"?"previous":"next"}ElementSibling`],e&&(e.classList.add(`${l}-${t}`),e=e[`${t==="prev"?"previous":"next"}ElementSibling`],e&&e.classList.add(`${l}-${t}-${t}`)))}function C(e,t,l){if(e=e%l,t=t%l,t===e+1)return"next";if(t===e-1)return"previous"}function T(e){const t=e.target.closest(D(a.params.pagination.bulletClass));if(!t)return;e.preventDefault();const l=U(t)*a.params.slidesPerGroup;if(a.params.loop){if(a.realIndex===l)return;const n=C(a.realIndex,l,a.slides.length);n==="next"?a.slideNext():n==="previous"?a.slidePrev():a.slideToLoop(l)}else a.slideTo(l)}function z(){const e=a.rtl,t=a.params.pagination;if(i())return;let l=a.pagination.el;l=k(l);let n,g;const B=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,H=a.params.loop?Math.ceil(B/a.params.slidesPerGroup):a.snapGrid.length;if(a.params.loop?(g=a.previousRealIndex||0,n=a.params.slidesPerGroup>1?Math.floor(a.realIndex/a.params.slidesPerGroup):a.realIndex):typeof a.snapIndex<"u"?(n=a.snapIndex,g=a.previousSnapIndex):(g=a.previousIndex||0,n=a.activeIndex||0),t.type==="bullets"&&a.pagination.bullets&&a.pagination.bullets.length>0){const r=a.pagination.bullets;let $,h,P;if(t.dynamicBullets&&(p=da(r[0],a.isHorizontal()?"width":"height"),l.forEach(f=>{f.style[a.isHorizontal()?"width":"height"]=`${p*(t.dynamicMainBullets+4)}px`}),t.dynamicMainBullets>1&&g!==void 0&&(b+=n-(g||0),b>t.dynamicMainBullets-1?b=t.dynamicMainBullets-1:b<0&&(b=0)),$=Math.max(n-b,0),h=$+(Math.min(r.length,t.dynamicMainBullets)-1),P=(h+$)/2),r.forEach(f=>{const m=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(u=>`${t.bulletActiveClass}${u}`)].map(u=>typeof u=="string"&&u.includes(" ")?u.split(" "):u).flat();f.classList.remove(...m)}),l.length>1)r.forEach(f=>{const m=U(f);m===n?f.classList.add(...t.bulletActiveClass.split(" ")):a.isElement&&f.setAttribute("part","bullet"),t.dynamicBullets&&(m>=$&&m<=h&&f.classList.add(...`${t.bulletActiveClass}-main`.split(" ")),m===$&&L(f,"prev"),m===h&&L(f,"next"))});else{const f=r[n];if(f&&f.classList.add(...t.bulletActiveClass.split(" ")),a.isElement&&r.forEach((m,u)=>{m.setAttribute("part",u===n?"bullet-active":"bullet")}),t.dynamicBullets){const m=r[$],u=r[h];for(let A=$;A<=h;A+=1)r[A]&&r[A].classList.add(...`${t.bulletActiveClass}-main`.split(" "));L(m,"prev"),L(u,"next")}}if(t.dynamicBullets){const f=Math.min(r.length,t.dynamicMainBullets+4),m=(p*f-p)/2-P*p,u=e?"right":"left";r.forEach(A=>{A.style[a.isHorizontal()?u:"top"]=`${m}px`})}}l.forEach((r,$)=>{if(t.type==="fraction"&&(r.querySelectorAll(D(t.currentClass)).forEach(h=>{h.textContent=t.formatFractionCurrent(n+1)}),r.querySelectorAll(D(t.totalClass)).forEach(h=>{h.textContent=t.formatFractionTotal(H)})),t.type==="progressbar"){let h;t.progressbarOpposite?h=a.isHorizontal()?"vertical":"horizontal":h=a.isHorizontal()?"horizontal":"vertical";const P=(n+1)/H;let f=1,m=1;h==="horizontal"?f=P:m=P,r.querySelectorAll(D(t.progressbarFillClass)).forEach(u=>{u.style.transform=`translate3d(0,0,0) scaleX(${f}) scaleY(${m})`,u.style.transitionDuration=`${a.params.speed}ms`})}t.type==="custom"&&t.renderCustom?(V(r,t.renderCustom(a,n+1,H)),$===0&&v("paginationRender",r)):($===0&&v("paginationRender",r),v("paginationUpdate",r)),a.params.watchOverflow&&a.enabled&&r.classList[a.isLocked?"add":"remove"](t.lockClass)})}function O(){const e=a.params.pagination;if(i())return;const t=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.grid&&a.params.grid.rows>1?a.slides.length/Math.ceil(a.params.grid.rows):a.slides.length;let l=a.pagination.el;l=k(l);let n="";if(e.type==="bullets"){let g=a.params.loop?Math.ceil(t/a.params.slidesPerGroup):a.snapGrid.length;a.params.freeMode&&a.params.freeMode.enabled&&g>t&&(g=t);for(let B=0;B<g;B+=1)e.renderBullet?n+=e.renderBullet.call(a,B,e.bulletClass):n+=`<${e.bulletElement} ${a.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}e.type==="fraction"&&(e.renderFraction?n=e.renderFraction.call(a,e.currentClass,e.totalClass):n=`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),e.type==="progressbar"&&(e.renderProgressbar?n=e.renderProgressbar.call(a,e.progressbarFillClass):n=`<span class="${e.progressbarFillClass}"></span>`),a.pagination.bullets=[],l.forEach(g=>{e.type!=="custom"&&V(g,n||""),e.type==="bullets"&&a.pagination.bullets.push(...g.querySelectorAll(D(e.bulletClass)))}),e.type!=="custom"&&v("paginationRender",l[0])}function E(){a.params.pagination=va(a,a.originalParams.pagination,a.params.pagination,{el:"swiper-pagination"});const e=a.params.pagination;if(!e.el)return;let t;typeof e.el=="string"&&a.isElement&&(t=a.el.querySelector(e.el)),!t&&typeof e.el=="string"&&(t=[...document.querySelectorAll(e.el)]),t||(t=e.el),!(!t||t.length===0)&&(a.params.uniqueNavElements&&typeof e.el=="string"&&Array.isArray(t)&&t.length>1&&(t=[...a.el.querySelectorAll(e.el)],t.length>1&&(t=t.find(l=>ca(l,".swiper")[0]===a.el))),Array.isArray(t)&&t.length===1&&(t=t[0]),Object.assign(a.pagination,{el:t}),t=k(t),t.forEach(l=>{e.type==="bullets"&&e.clickable&&l.classList.add(...(e.clickableClass||"").split(" ")),l.classList.add(e.modifierClass+e.type),l.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.type==="bullets"&&e.dynamicBullets&&(l.classList.add(`${e.modifierClass}${e.type}-dynamic`),b=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),e.type==="progressbar"&&e.progressbarOpposite&&l.classList.add(e.progressbarOppositeClass),e.clickable&&l.addEventListener("click",T),a.enabled||l.classList.add(e.lockClass)}))}function F(){const e=a.params.pagination;if(i())return;let t=a.pagination.el;t&&(t=k(t),t.forEach(l=>{l.classList.remove(e.hiddenClass),l.classList.remove(e.modifierClass+e.type),l.classList.remove(a.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(l.classList.remove(...(e.clickableClass||"").split(" ")),l.removeEventListener("click",T))})),a.pagination.bullets&&a.pagination.bullets.forEach(l=>l.classList.remove(...e.bulletActiveClass.split(" ")))}s("changeDirection",()=>{if(!a.pagination||!a.pagination.el)return;const e=a.params.pagination;let{el:t}=a.pagination;t=k(t),t.forEach(l=>{l.classList.remove(e.horizontalClass,e.verticalClass),l.classList.add(a.isHorizontal()?e.horizontalClass:e.verticalClass)})}),s("init",()=>{a.params.pagination.enabled===!1?G():(E(),O(),z())}),s("activeIndexChange",()=>{typeof a.snapIndex>"u"&&z()}),s("snapIndexChange",()=>{z()}),s("snapGridLengthChange",()=>{O(),z()}),s("destroy",()=>{F()}),s("enable disable",()=>{let{el:e}=a.pagination;e&&(e=k(e),e.forEach(t=>t.classList[a.enabled?"remove":"add"](a.params.pagination.lockClass)))}),s("lock unlock",()=>{z()}),s("click",(e,t)=>{const l=t.target,n=k(a.pagination.el);if(a.params.pagination.el&&a.params.pagination.hideOnClick&&n&&n.length>0&&!l.classList.contains(a.params.pagination.bulletClass)){if(a.navigation&&(a.navigation.nextEl&&l===a.navigation.nextEl||a.navigation.prevEl&&l===a.navigation.prevEl))return;const g=n[0].classList.contains(a.params.pagination.hiddenClass);v(g===!0?"paginationShow":"paginationHide"),n.forEach(B=>B.classList.toggle(a.params.pagination.hiddenClass))}});const Y=()=>{a.el.classList.remove(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=k(e),e.forEach(t=>t.classList.remove(a.params.pagination.paginationDisabledClass))),E(),O(),z()},G=()=>{a.el.classList.add(a.params.pagination.paginationDisabledClass);let{el:e}=a.pagination;e&&(e=k(e),e.forEach(t=>t.classList.add(a.params.pagination.paginationDisabledClass))),F()};Object.assign(a.pagination,{enable:Y,disable:G,render:O,update:z,init:E,destroy:F})}const ya={class:"full-page flex flex-col"},Ca={key:0,class:"grow relative"},xa={class:"relative -mt-[calc(var(--safe-area-top)+var(--spacing)*4)]"},$a=["src"],ka={class:"pt-5 px-4"},_a={class:"mb-4 text-xl font-medium"},La={class:"text-(--z-muted-text) text-xs flex gap-2 items-center mb-6"},za={class:"capitalize"},Ba={class:"flex items-center gap-1"},Aa={class:"py-1 leading-5 text-sm mb-6"},Ma={key:0,class:"title text-sm mb-2"},Sa={key:1,class:"text-sm divide-y divide-gray-50"},Pa={class:"text-(--z-muted-text)"},Ia={class:"flex gap-1.5 font-medium"},Da={key:0},Oa={key:1,class:"grow"},Ea={key:2,class:"px-4 pt-4 border-t border-(--z-border) flex gap-4"},Fa={key:3,class:"px-4 pt-4 border-t border-(--z-border) flex gap-4"},Va=J({__name:"ProductPage",setup(a){const S=ea(),{data:s,execute:v}=ta(ia.show),o=la(!1);function p(b){sa()&&window.open(`tel:${b}`)}return Z(async()=>{if(await v(S.params.id),s.value?.images?.length){const b=s.value.images.map(i=>`/storage/${i.src}`);await X(b)}setTimeout(()=>{o.value=!0},350)}),(b,i)=>{const L=Q;return y(),x("section",ya,[c(s)?(y(),x("aside",Ca,[d("main",xa,[M(c(fa),{modules:[c(ba)],pagination:"",class:"h-64"},{default:I(()=>[(y(!0),x(R,null,j(c(s)?.images,C=>(y(),na(c(ua),{key:C.id},{default:I(()=>[d("img",{src:`/storage/${C.src}`,class:"h-full w-full object-cover"},null,8,$a)]),_:2},1024))),128))]),_:1},8,["modules"])]),d("main",ka,[d("div",{class:w(["inline-flex items-center gap-1 font-extrabold text-2xl mb-3",{"flex-row-reverse":c(s)?.price_type.position==="left"}])},[d("span",null,_(c(K)(c(s)?.price)),1),d("span",null,_(c(s)?.price_type.type),1)],2),d("h1",_a,_(c(s)?.title),1),d("div",La,[d("span",za,_(c(W)(c(s)?.created_at)),1),i[2]||(i[2]=d("span",{class:"inline-block w-1 h-1 rounded-full bg-(--z-muted-text)"},null,-1)),i[3]||(i[3]=d("span",{class:"flex items-center gap-1"}," 1.2k ko'rildi ",-1)),i[4]||(i[4]=d("span",{class:"inline-block w-1 h-1 rounded-full bg-(--z-muted-text)"},null,-1)),d("span",Ba,[M(c(ma),{class:"size-3 inline"}),i[1]||(i[1]=N(" Uchquduq ",-1))])]),i[5]||(i[5]=d("h3",{class:"title text-sm"},"Izoh",-1)),d("div",Aa,_(c(s)?.description),1),c(s)?.parameter_values.length?(y(),x("h3",Ma,"Qo'shimcha ma'lumot")):q("",!0),c(s)?.parameter_values.length?(y(),x("aside",Sa,[(y(!0),x(R,null,j(c(s).parameter_values,C=>(y(),x("div",{key:C.id,class:"flex justify-between py-2"},[d("span",Pa,_(C.parameter.title),1),d("main",Ia,[d("span",null,_(C.value),1),C.parameter.unit?(y(),x("span",Da,_(C.parameter.unit),1)):q("",!0)])]))),128))])):q("",!0)])])):(y(),x("aside",Oa,[...i[6]||(i[6]=[aa('<main class="relative -mt-[calc(var(--safe-area-top)+var(--spacing)*4)]"><div class="skeleton h-64 rounded-none!"></div></main><main class="py-5.5 px-4"><div class="skeleton h-5.5 mb-6 w-24"></div><div class="skeleton h-4.5 w-full mb-5.5"></div><div class="skeleton h-4 w-2/3 mb-7"></div><div class="skeleton h-3 w-12 mb-3"></div><div class="skeleton h-2 w-4/5 mb-3"></div><div class="skeleton h-2 w-full mb-3"></div><div class="skeleton h-2 w-2/3"></div></main>',2)])])),c(s)?(y(),x("aside",Ea,[M(L,{onClick:i[0]||(i[0]=C=>p(c(s)?.phone)),severity:"primary",class:"grow"},{icon:I(()=>[M(c(ha),{class:"size-4 inline"})]),default:I(()=>[i[7]||(i[7]=N(" Qo'ng'iroq qilish ",-1))]),_:1}),M(L,{severity:"secondary",iconOnly:"",class:"aspect-square"},{icon:I(()=>[M(c(ga),{class:"size-5 inline"})]),_:1})])):(y(),x("aside",Fa,[...i[8]||(i[8]=[d("div",{class:"skeleton h-12 grow"},null,-1),d("div",{class:"skeleton size-12"},null,-1)])]))])}}});export{Va as default};
